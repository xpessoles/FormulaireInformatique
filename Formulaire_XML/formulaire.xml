
<body>
<h1>Le calcul scientifique sous Python et Scilab</h1>

<h2>Les spécificités des langages pour le calcul scientifique</h2>

<h3>Python et Scilab</h3>

<h3>Pourquoi un peu de C ?</h3>

<h3>titre à trouver...</h3>
Parler des différences sur le typage des variables, sur le passage par valeur ou par référence des arg des fonctions, sur l'aspect "impératif/objet/fonctionnel" en une ligne.


<h2>Formulaire</h2>

<h3>Variables</h3>
<p>Les variables sont dans les 3 langages, systématiquement associées à un type (et donc un espace espace mémoire alloué). Néanmoins, le typage est "dynamique" en Python et Scilab, c'est-à-dire que le type peut changer en fonction des besoins du calcul, tandis qu'il est statique en C (le type est choisi avant l'initialisation de la variable et ne peut plus être modifié par la suite, ce qui s'avère beaucoup plus simple et efficace pour la gestion de la mémoire).</p>


<tableau>

<ligne>
<description>
  Obtenir le type d'une variable <i>a</i>
</description>
<python>
  <module>
    Fonctionnalité standard
  </module>
<code_python>
type(a)
</code_python>
<lien>
http://docs.python.org/2/library/stdtypes.html
</lien>
<exemple>
  <h1>Type d'une variable</h1>
  <h2>Obtenir le type d'une variable</h2>
  <p>Python gère les types dynamiquement. En fonction des besoins, il est susceptible de changer le type d'une variable :</p>
  <code_python>
a=3
type(a)  # int
a=a+3.2
type(a)  # float
  </code_python>
  <h2>Forcer le type d'une variable</h2>
  <p>Dans le cas où la variable doit etre écrite dans un fichier ou utilisée dans un format bien précis, le type doit etre imposé. Un certain nombre de commandes permettent le formatage d'une variable.</p>
  <code_python>
from pylab import *
a=3
type(a)        # int
a=int16(a+3.2)
a              # 6
type(a)        # numpy.int16
  </code_python>
  
</exemple>
</python>
<scilab>
<code_scilab>
type(a)
</code_scilab>
</scilab>
<C>
<code_C>
explicite dans le programme...
</code_C>
</C>
</ligne>

<ligne>
<description>
Changement de type
</description>
<python>
<code_python>
??
</code_python>
</python>
<scilab>
<code_scilab>
int(a)
int8(a)
int16(a)
float32(a)
float64(a)
</code_scilab>
</scilab>
<C>
<code_C>

</code_C>
</C>
</ligne>

<ligne>
<description>

</description>
<python>
<code_python>

</code_python>
</python>
<scilab>
<code_scilab>

</code_scilab>
</scilab>
<C>
<code_C>

</code_C>
</C>
</ligne>


</tableau>


<h4>Nombres</h4>
<p>Nous passons sur les opérateurs classiques + - * / qui sont identiques dans les 3 langages (attention toutefois à la division de deux entiers qui est réalisée dans les entiers en C et en python 2.7, et dans R dans Scilab et en Python 3.3...).</p>
<tableau>

<ligne>
<description>
Puissance <i>a<sup>b</sup></i>
</description>
<python>
<code_python>
a**b
</code_python>
</python>
<scilab>
<code_scilab>
a.^b
</code_scilab>
</scilab>
<C>
<code_C>
??
</code_C>
</C>
</ligne>

<ligne>
<description>
Reste ou modulo
</description>
<python>
<code_python>
a%b
</code_python>
</python>
<scilab>
<code_scilab>
???
</code_scilab>
</scilab>
<C>
<code_C>
???
</code_C>
</C>
</ligne>

<ligne>
<description>
Division entière
</description>
<python>
<code_python>
fmod(a,b)
</code_python>
</python>
<scilab>
<code_scilab>
mod(a,b) ??
</code_scilab>
</scilab>
<C>
<code_C>
??
</code_C>
</C>
</ligne>

<ligne>
<description>
Test égalité
</description>
<python>
<code_python>
a==b
</code_python>
</python>
<scilab>
<code_scilab>
a==b
</code_scilab>
</scilab>
<C>
<code_C>
a==b
</code_C>
</C>
</ligne>

<ligne>
<description>
Inférieur (ou égal)
</description>
<python>
<code_python>
a &lt; b ; a &lt;= b
</code_python>
</python>
<scilab>
<code_scilab>
a &lt; b ; a &lt;= b
</code_scilab>
</scilab>
<C>
<code_C>
a &lt; b ; a &lt;= b
</code_C>
</C>
</ligne>

<ligne>
<description>
Supérieur (ou égal)
</description>
<python>
<code_python>
a&gt;b ; a&gt;=b
</code_python>
</python>
<scilab>
<code_scilab>
a&gt;b ; a&gt;=b
</code_scilab>
</scilab>
<C>
<code_C>
a&gt;b ; a&gt;=b
</code_C>
</C>
</ligne>

<ligne>
<description>
Différent
</description>
<python>
<code_python>
a!=b
</code_python>
</python>
<scilab>
<code_scilab>
a~=b
</code_scilab>
</scilab>
<C>
<code_C>
??
</code_C>
</C>
</ligne>

<ligne>
<description>
ET
</description>
<python>
<code_python>
a and b
</code_python>
</python>
<scilab>
<code_scilab>
a &amp; b
</code_scilab>
</scilab>
<C>
<code_C>
a &amp;&amp; b
</code_C>
</C>
</ligne>

<ligne>
<description>
ET bitwise
</description>
<python>
<code_python>
a &amp; b
</code_python>
</python>
<scilab>
<code_scilab>
bitand(a,b)
</code_scilab>
</scilab>
<C>
<code_C>
a &amp; b
</code_C>
</C>
</ligne>

<ligne>
<description>
OU
</description>
<python>
<code_python>
a or b
</code_python>
</python>
<scilab>
<code_scilab>
a | b
</code_scilab>
</scilab>
<C>
<code_C>
a || b
</code_C>
</C>
</ligne>

<ligne>
<description>
OU bitwise
</description>
<python>
<code_python>
a | b
</code_python>
</python>
<scilab>
<code_scilab>
bitor(a,b)
</code_scilab>
</scilab>
<C>
<code_C>
a | b
</code_C>
</C>
</ligne>

<ligne>
<description>
NON
</description>
<python>
<code_python>
not a
</code_python>
</python>
<scilab>
<code_scilab>
~a
</code_scilab>
</scilab>
<C>
<code_C>
!a
</code_C>
</C>
</ligne>

<ligne>
<description>
NON bitwise
</description>
<python>
<code_python>
?? 
</code_python>
</python>
<scilab>
<code_scilab>
bitcmp(a,8)
</code_scilab>
</scilab>
<C>
<code_C>
~a
</code_C>
</C>
</ligne>

<ligne>
<description>
OU exclusif
</description>
<python>
<code_python>
not (a==b)
</code_python>
</python>
<scilab>
<code_scilab>
~(a==b)
</code_scilab>
</scilab>
<C>
<code_C>
!(a==b)
</code_C>
</C>
</ligne>

<ligne>
<description>
OU exclusif bitwise
</description>
<python>
<code_python>
a^b
</code_python>
</python>
<scilab>
<code_scilab>
bitxor(a,b)
</code_scilab>
</scilab>
<C>
<code_C>
a^b
</code_C>
</C>
</ligne>

<ligne>
<description>
décalage de 3 bits à gauche et à droite
</description>
<python>
<code_python>
a &lt;&lt; 3 ; a &gt;&gt; 3
</code_python>
</python>
<scilab>
<code_scilab>
a*2^3 ; floor(a/2^3)
</code_scilab>
</scilab>
<C>
<code_C>
a &lt;&lt; 3 ; a &gt;&gt; 3
</code_C>
</C>
</ligne>

</tableau>


<p>Les fonctions mathématiques standards en python peuvent provenir de différents paquets. L'utilisation de l'option --pylab (automatiquement chargée sous Spyder) conduit à utiliser les fonctions du module Numpy (A VERIFIER) par défaut.</p>

<tableau>

<ligne>
<description>
Racine carrée
</description>
<python>
<code_python>
sqrt(a)
</code_python>
</python>
<scilab>
<code_scilab>
sqrt(a)
</code_scilab>
</scilab>
<C>
<code_C>
sqrt(a)
</code_C>
</C>
</ligne>

<ligne>
<description>
cosinus, sinus, tangente
</description>
<python>
<code_python>
cos(a), sin(a), tan(a)
</code_python>
</python>
<scilab>
<code_scilab>
cos(a), sin(a), tan(a)
</code_scilab>
</scilab>
<C>
<code_C>
cos(a), sin(a), tan(a)
</code_C>
</C>
</ligne>

<ligne>
<description>
arcos, arcsin
</description>
<python>
<code_python>

</code_python>
</python>
<scilab>
<code_scilab>

</code_scilab>
</scilab>
<C>
<code_C>

</code_C>
</C>
</ligne>

<ligne>
<description>
arctangente sur ]-&#x03C0;/2, &#x03C0;/2[
</description>
<python>
<code_python>
atan(a)
</code_python>
</python>
<scilab>
<code_scilab>
atan(a)
</code_scilab>
</scilab>
<C>
<code_C>
atan(a)
</code_C>
</C>
</ligne>

<ligne>
<description>
arctangente sur ]-&#x03C0;, &#x03C0;]
</description>
<python>
<code_python>
arctan2(y,x)
</code_python>
</python>
<scilab>
<code_scilab>
atan(y,x)
</code_scilab>
</scilab>
<C>
<code_C>
??
</code_C>
</C>
</ligne>

<ligne>
<description>
ch, sh, th
</description>
<python>
<code_python>

</code_python>
</python>
<scilab>
<code_scilab>

</code_scilab>
</scilab>
<C>
<code_C>

</code_C>
</C>
</ligne>

<ligne>
<description>
Logarithme Néperien (ln)
</description>
<python>
<code_python>
log(a)
</code_python>
</python>
<scilab>
<code_scilab>
log(a)
</code_scilab>
</scilab>
<C>
<code_C>
log(a)
</code_C>
</C>
</ligne>

<ligne>
<description>
Logarithme en base 10 (log)
</description>
<python>
<code_python>
log10(a)
</code_python>
</python>
<scilab>
<code_scilab>
log10(a)
</code_scilab>
</scilab>
<C>
<code_C>
log10(a)
</code_C>
</C>
</ligne>

<ligne>
<description>
  Logarithme en base <i>n</i> quelconque
</description>
<python>
<code_python>
log(a,n)
</code_python>
</python>
<scilab>
<code_scilab>
??
</code_scilab>
</scilab>
<C>
<code_C>
??
</code_C>
</C>
</ligne>

<ligne>
<description>
  Exponentielle <i>e<sup>a</sup></i>
</description>
<python>
<code_python>
exp(a)
</code_python>
</python>
<scilab>
<code_scilab>
exp(a)
</code_scilab>
</scilab>
<C>
<code_C>
exp(a)
</code_C>
</C>
</ligne>

<ligne>
<description>
Arrondi entier
</description>
<python>
<code_python>
around(a)
</code_python>
</python>
<scilab>
<code_scilab>
round(a)
</code_scilab>
</scilab>
<C>
<code_C>
round(a)
</code_C>
</C>
</ligne>

<ligne>
<description>
Arrondi à l'entier supérieur
</description>
<python>
<code_python>
ceil(a)
</code_python>
</python>
<scilab>
<code_scilab>
ceil(a)
</code_scilab>
</scilab>
<C>
<code_C>
ceil(a)
</code_C>
</C>
</ligne>

<ligne>
<description>
Arrondi à l'entier inférieur
</description>
<python>
<code_python>
floor(a)
</code_python>
</python>
<scilab>
<code_scilab>
floor(a)
</code_scilab>
</scilab>
<C>
<code_C>
floor(a)
</code_C>
</C>
</ligne>

<ligne>
<description>
Arrondi vers zéro
</description>
<python>
<code_python>
fix(a)
</code_python>
</python>
<scilab>
<code_scilab>
fix(a) ??
</code_scilab>
</scilab>
<C>
<code_C>
??
</code_C>
</C>
</ligne>

<ligne>
<description>
Générer une liste aléatoire
</description>
<python>
<code_python>
random.random((10,))
</code_python>
</python>
<scilab>
<code_scilab>
rand(1,10)
</code_scilab>
</scilab>
<C>
<code_C>
??
</code_C>
</C>
</ligne>


</tableau>


<p>Le calcul en complexes est possible dans les langages Python et Scilab. En C, des bibliothèques sont requises.... ???</p>

<tableau>

<ligne>
<description>
imaginaire <i>i</i>
</description>
<python>
<code_python>
1j
</code_python>
</python>
<scilab>
<code_scilab>
%i
</code_scilab>
</scilab>
<C>
<code_C>

</code_C>
</C>
</ligne>

<ligne>
<description>
Nombre complexes <i>3+4i</i>
</description>
<python>
<code_python>
3+4j
</code_python>
</python>
<scilab>
<code_scilab>
3+4*%i
</code_scilab>
</scilab>
<C>
<code_C>

</code_C>
</C>
</ligne>

<ligne>
<description>
Partie réelle de <i>a</i>
</description>
<python>
<code_python>
a.real
</code_python>
</python>
<scilab>
<code_scilab>
real(a)
</code_scilab>
</scilab>
<C>
<code_C>

</code_C>
</C>
</ligne>

<ligne>
<description>
Partie imaginaire de <i>a</i>
</description>
<python>
<code_python>
a.imag
</code_python>
</python>
<scilab>
<code_scilab>
imag(a)
</code_scilab>
</scilab>
<C>
<code_C>

</code_C>
</C>
</ligne>

<ligne>
<description>
Module
</description>
<python>
<code_python>
abs(a)
</code_python>
</python>
<scilab>
<code_scilab>
abs(a)
</code_scilab>
</scilab>
<C>
<code_C>

</code_C>
</C>
</ligne>

<ligne>
<description>
Argument
</description>
<python>
<code_python>
???
</code_python>
</python>
<scilab>
<code_scilab>
atan(imag(a),real(a))
</code_scilab>
</scilab>
<C>
<code_C>

</code_C>
</C>
</ligne>

<ligne>
<description>
Conjugué de <i>a</i>
</description>
<python>
<code_python>
a.conj()
</code_python>
</python>
<scilab>
<code_scilab>
??
</code_scilab>
</scilab>
<C>
<code_C>

</code_C>
</C>
</ligne>

<ligne>
<description>

</description>
<python>
<code_python>

</code_python>
</python>
<scilab>
<code_scilab>

</code_scilab>
</scilab>
<C>
<code_C>

</code_C>
</C>
</ligne>

<ligne>
<description>

</description>
<python>
<code_python>

</code_python>
</python>
<scilab>
<code_scilab>

</code_scilab>
</scilab>
<C>
<code_C>

</code_C>
</C>
</ligne>

</tableau>


<h4>Tableaux (à une ou plusieurs dimensions)</h4>

<p>Le calcul numérique s'appuie intensivement sur des tableaux de valeurs, soit pour représenter des signaux, soit pour représenter des vecteurs et des matrices.</p>

<p>La syntaxe de Scilab est fortement orienté vers la manipulation de tableau. Elle est en ce sens très pratique et lisible.</p>

<p>Python propose quant à lui trois types possibles pour manipuler des données sous forme de tableaux : les listes (à une ou plusieurs dimensions), le type "array", et le type "matrix". Des conversions sont possibles entre ces types. Il est conseillé dans le cadre du calcul numérique (pour des raisons pratiques et d'efficacité des calculs) d'utiliser le type "array". C'est ce qui est considéré par la suite.</p>

<p>Attention, en Python et en C, les indices des tableaux commencent à 0 tandis qu'en Scilab, ils commencent à 1.</p>


<tableau>

<ligne>
<description>
Vecteur ligne
</description>
<python>
<code_python>
v=array([1, 2, 3])
</code_python>
</python>
<scilab>
<code_scilab>
v=[1, 2, 3]
</code_scilab>
</scilab>
<C>
<code_C>
v=[1, 2, 3] ??
</code_C>
</C>
</ligne>

<ligne>
<description>
Vecteur colonne
</description>
<python>
<code_python>
v=array([1, 2, 3])[:,NewAxis]
v=array([1, 2, 3]).reshape(-1,1)
</code_python>
</python>
<scilab>
<code_scilab>
v=[1; 2; 3]
</code_scilab>
</scilab>
<C>
<code_C>

</code_C>
</C>
</ligne>

<ligne>
<description>
Tableau à 2 dimensions
</description>
<python>
<code_python>
M=array([[1,2,3],[4,5,6]])
</code_python>
</python>
<scilab>
<code_scilab>
M=[1, 2, 3; 4, 5, 6]
</code_scilab>
</scilab>
<C>
<code_C>

</code_C>
</C>
</ligne>

<ligne>
<description>
Accéder à un élément
</description>
<python>
<code_python>
v[3], M[1,2]
</code_python>
</python>
<scilab>
<code_scilab>
v(3), M(1,2)
</code_scilab>
</scilab>
<C>
<code_C>
v(3) ????
</code_C>
</C>
</ligne>

<ligne>
<description>
Accéder au dernier élément, et l'avant dernier
</description>
<python>
<code_python>
v[-1], v[-2]
</code_python>
</python>
<scilab>
<code_scilab>
v($), v($-1)
</code_scilab>
</scilab>
<C>
<code_C>

</code_C>
</C>
</ligne>

<ligne>
<description>
Dimensions d'un tableau
</description>
<python>
<code_python>
M.shape
</code_python>
</python>
<scilab>
<code_scilab>
size(M)
</code_scilab>
</scilab>
<C>
<code_C>

</code_C>
</C>
</ligne>


<ligne>
<description>
Extraire la 2ème ligne ou 2ème colonne
</description>
<python>
<code_python>
M[1,:] ou M[:,1]
</code_python>
</python>
<scilab>
<code_scilab>
M(2,:) ou M(:,2)
</code_scilab>
</scilab>
<C>
<code_C>

</code_C>
</C>
</ligne>

<ligne>
<description>
Extraire une portion de tableau
</description>
<python>
<code_python>
M[2:4,1:2] ????
</code_python>
</python>
<scilab>
<code_scilab>
M(2:4,1:2)
</code_scilab>
</scilab>
<C>
<code_C>

</code_C>
</C>
</ligne>

<ligne>
<description>
Extraire des éléments d'un tableau par leurs indices
</description>
<python>
<code_python>
a.take([0,2]).take([0,3], axis=1)
</code_python>
</python>
<scilab>
<code_scilab>
M([1 3],[1 4])
</code_scilab>
</scilab>
<C>
<code_C>

</code_C>
</C>
</ligne>

<ligne>
<description>
Séquence équirépartie d'entiers
</description>
<python>
<code_python>
range(1,11)
</code_python>
</python>
<scilab>
<code_scilab>
1:10
</code_scilab>
</scilab>
<C>
<code_C>

</code_C>
</C>
</ligne>

<ligne>
<description>
Séquence équirépartie quelconque
</description>
<python>
<code_python>
arange(0,0.1,10.1)
</code_python>
</python>
<scilab>
<code_scilab>
0:0.1:10
</code_scilab>
</scilab>
<C>
<code_C>

</code_C>
</C>
</ligne>

<ligne>
<description>
Tableau de zéros
</description>
<python>
<code_python>
zeros((2,3),Float)
   
</code_python>
</python>
<scilab>
<code_scilab>
zeros(2,3)
</code_scilab>
</scilab>
<C>
<code_C>

</code_C>
</C>
</ligne>

<ligne>
<description>
Tableau de uns
</description>
<python>
<code_python>
ones((2,3),Float)
</code_python>
</python>
<scilab>
<code_scilab>
ones(2,4)
</code_scilab>
</scilab>
<C>
<code_C>

</code_C>
</C>
</ligne>

<ligne>
<description>
Copier un tableau dans une autre variable
</description>
<python>
<code_python>
w=v.copy()
</code_python>
</python>
<scilab>
<code_scilab>
w=v
</code_scilab>
</scilab>
<C>
<code_C>

</code_C>
</C>
</ligne>


<ligne>
<description>
Multiplication élément par élément
</description>
<python>
<code_python>
v*w
</code_python>
</python>
<scilab>
<code_scilab>
v.*w
</code_scilab>
</scilab>
<C>
<code_C>

</code_C>
</C>
</ligne>

<ligne>
<description>
Maximum et minimum d'un tableau
</description>
<python>
<code_python>
v.max(0), v.min(0)
</code_python>
</python>
<scilab>
<code_scilab>
max(v), min(v)
</code_scilab>
</scilab>
<C>
<code_C>

</code_C>
</C>
</ligne>

<ligne>
<description>
Indice <i>i</i> du maximum
</description>
<python>
<code_python>
v.argmax(0)
</code_python>
</python>
<scilab>
<code_scilab>
[m,i] = max(v)
</code_scilab>
</scilab>
<C>
<code_C>

</code_C>
</C>
</ligne>

<ligne>
<description>

</description>
<python>
<code_python>

</code_python>
</python>
<scilab>
<code_scilab>

</code_scilab>
</scilab>
<C>
<code_C>

</code_C>
</C>
</ligne>

</tableau>



<h4>Matrices</h4>

<tableau>


<ligne>
<description>
Produit matriciel
</description>
<python>
<code_python>
dot(v,w)
</code_python>
</python>
<scilab>
<code_scilab>
v*w
</code_scilab>
</scilab>
<C>
<code_C>

</code_C>
</C>
</ligne>

<ligne>
<description>
Transposée
</description>
<python>
<code_python>
M.transpose()
M.conj().transpose()
</code_python>
</python>
<scilab>
<code_scilab>
M'
</code_scilab>
</scilab>
<C>
<code_C>

</code_C>
</C>
</ligne>

<ligne>
<description>
  Résolution de système matriciel <i>M.X=Y</i>
</description>
<python>
<code_python>
linalg.solve(Y,M)
</code_python>
</python>
<scilab>
<code_scilab>
X=Y\ M
</code_scilab>
</scilab>
<C>
<code_C>

</code_C>
</C>
</ligne>

<ligne>
<description>
Produit scalaire de deux vecteurs
</description>
<python>
<code_python>
vdot(v,w)
</code_python>
</python>
<scilab>
<code_scilab>
v'*w
</code_scilab>
</scilab>
<C>
<code_C>

</code_C>
</C>
</ligne>

<ligne>
<description>
Produit vectoriel
</description>
<python>
<code_python>
cross(v,w) ??
</code_python>
</python>
<scilab>
<code_scilab>
??
</code_scilab>
</scilab>
<C>
<code_C>

</code_C>
</C>
</ligne>

<ligne>
<description>
Déterminant
</description>
<python>
<code_python>
linalg.det(M)
</code_python>
</python>
<scilab>
<code_scilab>
det(M)
</code_scilab>
</scilab>
<C>
<code_C>

</code_C>
</C>
</ligne>

<ligne>
<description>
Inverse
</description>
<python>
<code_python>
linalg.inv(M)
</code_python>
</python>
<scilab>
<code_scilab>
inv(M)
</code_scilab>
</scilab>
<C>
<code_C>

</code_C>
</C>
</ligne>

<ligne>
<description>
Valeurs propres
</description>
<python>
<code_python>
linalg.eig(M)[0]
</code_python>
</python>
<scilab>
<code_scilab>
eig(M)
</code_scilab>
</scilab>
<C>
<code_C>

</code_C>
</C>
</ligne>

<ligne>
<description>
Vecteurs propres
</description>
<python>
<code_python>
linalg.eig(M)[1]
</code_python>
</python>
<scilab>
<code_scilab>
[v,l] = eig(M)
</code_scilab>
</scilab>
<C>
<code_C>

</code_C>
</C>
</ligne>

<ligne>
<description>
Rang
</description>
<python>
<code_python>
rank(M)
</code_python>
</python>
<scilab>
<code_scilab>
rank(M)
</code_scilab>
</scilab>
<C>
<code_C>

</code_C>
</C>
</ligne>

<ligne>
<description>

</description>
<python>
<code_python>

</code_python>
</python>
<scilab>
<code_scilab>

</code_scilab>
</scilab>
<C>
<code_C>

</code_C>
</C>
</ligne>

<ligne>
<description>

</description>
<python>
<code_python>

</code_python>
</python>
<scilab>
<code_scilab>

</code_scilab>
</scilab>
<C>
<code_C>

</code_C>
</C>
</ligne>


</tableau>






<h4>Chaînes de caractères</h4>



<tableau>

<ligne>
<description>
Définir une chaîne de caractères
</description>
<python>
<code_python>
mot="Python et Scilab"
</code_python>
</python>
<scilab>
<code_scilab>
mot="Python et Scilab"
</code_scilab>
</scilab>
<C>
<code_C>
mot="Python et Scilab"
</code_C>
</C>
</ligne>


<ligne>
<description>
Longueur d'une chaîne
</description>
<python>
<code_python>
len(mot)
</code_python>
</python>
<scilab>
<code_scilab>
length(mot)
</code_scilab>
</scilab>
<C>
<code_C>

</code_C>
</C>
</ligne>

<ligne>
<description>
Extraire des caractères
</description>
<python>
<code_python>
mot[2:7]
</code_python>
</python>
<scilab>
<code_scilab>
part(mot,[1,2,11:16])
</code_scilab>
</scilab>
<C>
<code_C>

</code_C>
</C>
</ligne>

<ligne>
<description>
Concaténation
</description>
<python>
<code_python>
mot="python" + "/" + "Scilab"
</code_python>
</python>
<scilab>
<code_scilab>
mot="python" + "/" + "Scilab"
</code_scilab>
</scilab>
<C>
<code_C>

</code_C>
</C>
</ligne>

<ligne>
<description>
Replacer une portion de chaîne
</description>
<python>
<code_python>
mot.replace("Scilab","C")
</code_python>
</python>
<scilab>
<code_scilab>
strsubst(mot,"Scilab","C")
</code_scilab>
</scilab>
<C>
<code_C>

</code_C>
</C>
</ligne>

<ligne>
<description>
Découper une chaîne de caractères
</description>
<python>
<code_python>
mot.split(" ")
</code_python>
</python>
<scilab>
<code_scilab>
strsplit(mot," ")
</code_scilab>
</scilab>
<C>
<code_C>

</code_C>
</C>
</ligne>

<ligne>
<description>
Supprimer des caractères de retour à la ligne
</description>
<python>
<code_python>
mot.rstrip("\n\r")
</code_python>
</python>
<scilab>
<code_scilab>

</code_scilab>
</scilab>
<C>
<code_C>

</code_C>
</C>
</ligne>

<ligne>
<description>

</description>
<python>
<code_python>

</code_python>
</python>
<scilab>
<code_scilab>

</code_scilab>
</scilab>
<C>
<code_C>

</code_C>
</C>
</ligne>

<ligne>
<description>

</description>
<python>
<code_python>

</code_python>
</python>
<scilab>
<code_scilab>

</code_scilab>
</scilab>
<C>
<code_C>

</code_C>
</C>
</ligne>

<ligne>
<description>

</description>
<python>
<code_python>

</code_python>
</python>
<scilab>
<code_scilab>

</code_scilab>
</scilab>
<C>
<code_C>

</code_C>
</C>
</ligne>

<ligne>
<description>

</description>
<python>
<code_python>

</code_python>
</python>
<scilab>
<code_scilab>

</code_scilab>
</scilab>
<C>
<code_C>

</code_C>
</C>
</ligne>

<ligne>
<description>

</description>
<python>
<code_python>

</code_python>
</python>
<scilab>
<code_scilab>

</code_scilab>
</scilab>
<C>
<code_C>

</code_C>
</C>
</ligne>

<ligne>
<description>

</description>
<python>
<code_python>

</code_python>
</python>
<scilab>
<code_scilab>

</code_scilab>
</scilab>
<C>
<code_C>

</code_C>
</C>
</ligne>


</tableau>



<h3>Structures de contrôle</h3>
<h4>Boucles</h4>

<tableau>


<ligne>
<description>
Boucle FOR
</description>
<python>
<code_python>
for i in range(10):
  print(i)
</code_python>
</python>
<scilab>
<code_scilab>
for i=1:10
  disp(i);
endfor
</code_scilab>
</scilab>
<C>
<code_C>
for (i=1,i&lt;=10,i++){
  print(i);
}
</code_C>
</C>
</ligne>

<ligne>
<description>
Boucle WHILE
</description>
<python>
<code_python>
i=0
while (i&lt;10):
  i+=1
  print(i)

</code_python>
</python>
<scilab>
<code_scilab>
i=0
while (i&lt;10)
  i=i+1
  disp(i)
endwhile
</code_scilab>
</scilab>
<C>
<code_C>

</code_C>
</C>
</ligne>

<ligne>
<description>

</description>
<python>
<code_python>

</code_python>
</python>
<scilab>
<code_scilab>

</code_scilab>
</scilab>
<C>
<code_C>

</code_C>
</C>
</ligne>

<ligne>
<description>

</description>
<python>
<code_python>

</code_python>
</python>
<scilab>
<code_scilab>

</code_scilab>
</scilab>
<C>
<code_C>

</code_C>
</C>
</ligne>


</tableau>


<h4>Conditions</h4>

<tableau>


<ligne>
<description>
Condition IF
</description>
<python>
<code_python>
if (i>3):
  print(i)
else
  print("hello")

</code_python>
</python>
<scilab>
<code_scilab>
if (i>3)
  disp(i)
else
  disp("hello")
endif
</code_scilab>
</scilab>
<C>
<code_C>
if (i>3){
  print(i);
}
else{
  print("hello");
}
</code_C>
</C>
</ligne>


<ligne>
<description>
Condition CASE
</description>
<python>
<code_python>

</code_python>
</python>
<scilab>
<code_scilab>

</code_scilab>
</scilab>
<C>
<code_C>

</code_C>
</C>
</ligne>

</tableau>


<h4>Fonctions</h4>

<h3>Courbes</h3>
<h4>Courbes 2D</h4>

<p>En Python, il est parfois nécessaire d'exécuter la commande show() pour afficher le graphique après l'appel à la commande plot().</p>


<tableau>

<ligne>
<description>
Tracé d'une courbe <i>y</i> ou <i>(x,y)</i>
</description>
<python>
<code_python>
plot(y) ou plot(x,y)
</code_python>
</python>
<scilab>
<code_scilab>
plot(y) ou plot(x,y)
</code_scilab>
</scilab>
<C>
<code_C>

</code_C>
</C>
</ligne>

<ligne>
<description>
Tracé de points (o) rouges (r) reliés par des lignes (-)
</description>
<python>
<code_python>
plot(x,y,"-or")
</code_python>
</python>
<scilab>
<code_scilab>
plot(x,y,"-or")
</code_scilab>
</scilab>
<C>
<code_C>

</code_C>
</C>
</ligne>

<ligne>
<description>
Effacer le graphique
</description>
<python>
<code_python>
clf
</code_python>
</python>
<scilab>
<code_scilab>
clf
</code_scilab>
</scilab>
<C>
<code_C>

</code_C>
</C>
</ligne>

<ligne>
<description>
Ouvrir une nouvelle figure
</description>
<python>
<code_python>

</code_python>
</python>
<scilab>
<code_scilab>
figure(3)
</code_scilab>
</scilab>
<C>
<code_C>

</code_C>
</C>
</ligne>

<ligne>
<description>
Échelle logarithmique en X
</description>
<python>
<code_python>
semilogx(x,y)
</code_python>
</python>
<scilab>
<code_scilab>
semilogx(x,y)
</code_scilab>
</scilab>
<C>
<code_C>

</code_C>
</C>
</ligne>

<ligne>
<description>
Échelle logarithmique en X et Y
</description>
<python>
<code_python>
loglog(x,y)
</code_python>
</python>
<scilab>
<code_scilab>
loglog(x,y)
</code_scilab>
</scilab>
<C>
<code_C>

</code_C>
</C>
</ligne>

<ligne>
<description>

</description>
<python>
<code_python>

</code_python>
</python>
<scilab>
<code_scilab>

</code_scilab>
</scilab>
<C>
<code_C>

</code_C>
</C>
</ligne>

</tableau>


<h4>Courbes 3D</h4>



<h3>Fichiers</h3>
<h4>Fichiers textes</h4>


<tableau>

<ligne>
<description>
Ouvrir un fichier texte en lecture/écriture
</description>
<python>
<code_python>
fic=open("fichier.txt","r")
fic=open("fichier.txt","w")
</code_python>
</python>
<scilab>
<code_scilab>
fic=open("fichier.txt","r")
fic=open("fichier.txt","w")
</code_scilab>
</scilab>
<C>
<code_C>

</code_C>
</C>
</ligne>

<ligne>
<description>
Fermer un fichier
</description>
<python>
<code_python>
fic.close()
</code_python>
</python>
<scilab>
<code_scilab>
close(fic)
</code_scilab>
</scilab>
<C>
<code_C>

</code_C>
</C>
</ligne>

<ligne>
<description>
Lire une ou plusieurs lignes
</description>
<python>
<code_python>
ligne=fic.readline()
lignes=fic.readlines()
</code_python>
<lien>
http://docs.python.org/2/tutorial/inputoutput.html#reading-and-writing-files
</lien>
<exemple>
  <h1>Lire des lignes dans un fichier texte</h1>
   <p>Un fichier texte se lit de façon séquentiel, en partant du début vers la fin. Il n'y a pas de retour en arrière possible (sauf en refermant le fichier pour l'ouvrir à nouveau) et il n'est <i>a priori</i> pas possible d'accéder aux lignes par des indices comme pour les tableaux ou les listes.</p>
  <p>Il est par contre possible de lire les lignes et les stocker dans un tableau pour y accéder ensuite par des indices.</p>
  <h2>Méthode 1 : lecture de l'ensemble des lignes en une fois</h2>
  <p>La lecture d'un fichier texte en une fois s'effectue par la commande <tt>readlines()</tt></p>
  <p>L'exemple ci-dessous peut être copié dans une console python pour test. Le premier paragraphe consiste au préalable à créer un fichier texte qui sera lu ensuite. Pour faire les choses simples, la structure du fichier test est la suivante (vous pouvez l'ouvrir avec un éditeur de texte) :</p>
  <pre>
Première ligne !
Seconde ligne...
Essayons un tableau
T,X,Y
0,0.2,0.3
1,0.5,0.6
2,0.9,1.2
3,1.4,1.5
Fin du fichier
  </pre>
  <code_python>
# Ecriture d'un fichier test
fic=open("test_fichier.txt","w")
fic.write("Première ligne !\nSeconde ligne...\nEssayons un tableau\n\
T,X,Y\n0,0.2,0.3\n1,0.5,0.6\n2,0.9,1.2\n3,1.4,1.5\nFin du fichier")
fic.close()

# Lecture du fichier test
fic=open("test_fichier.txt","r")  # Ouverture en lecture
texte=fic.readlines()             # Lecture de l'ensemble des lignes
fic.close()                       # Fermeture du fichier (ne pas oublier)

# En tapant la variable texte dans la console, le contenu apparait
texte

print(texte[0])                   # Affichage de la première ligne
print(texte[1])                   # Affichage de la seconde ligne

# Pour lire un tableau de données, il faut découper les lignes et les convertir en nombres
texte[4:8]                        # Les lignes 5 à 8 qui nous intéressent...
T=[]; X=[]; Y=[]                  # Initialisation des listes
for i in range(4,8):
  ligne=texte[i].rstrip("\n")  # Suppression du retour à la ligne
  ligne=texte[i].split(",")    # Découpage au niveau des virgules
  T.append(int(ligne[0]))      # Convertion en int et ajout au tableau T
  X.append(float(ligne[1]))    # Convertion en float et ajout au tableau X
  Y.append(float(ligne[1]))    # idem Y

# Conversion éventuelle en tableaux "array"
T=array(T)
X=array(X)
Y=array(Y)
  </code_python>
  <p>Sous Windows, les retours à la ligne sont parfois écrits <tt>"\n\r"</tt>. Les séparateurs peuvent être des virgules, mais aussi des points-virgule, ou encore des tabulations <tt>"\t"</tt>. Certains logiciels francisés utilisent la virgule comme séparateur décimal, alors que python (comme la plupart des langages et logiciels) attendent un point. Il est alors nécessaire de remplacer les "," par des "." par la commande replace (par exemple : <tt>texte[0].replace("i","u")</tt>)</p>
  
  <h2>Méthode 2 : lecture ligne après ligne</h2>
  <p>La lecture d'une ligne d'un fichier texte s'effectue par la commande <tt>readline()</tt> (noter l'absence de "s")</p>
  <p>L'exemple ci-dessous peut être copié dans une console python pour test.</p>
  <code_python>
# Ecriture d'un fichier test
fic=open("test_fichier.txt","w")
fic.write("Première ligne !\nSeconde ligne...\nEssayons un tableau\n\
T,X,Y\n0,0.2,0.3\n1,0.5,0.6\n2,0.9,1.2\n3,1.4,1.5\nFin du fichier")
fic.close()

# Lecture du fichier test
fic=open("test_fichier.txt","r")  # Ouverture en lecture
ligne=fic.readline()              # Lecture de la première ligne
print(ligne)                      # Affichage de la première ligne
ligne=fic.readline()              # Lecture de la seconde ligne
print(ligne)                      # Affichage de la seconde ligne

# Pour lire le reste du fichier sans connaitre sa taille :
ligne="un texte non nul"
while ligne!="":                  # tant que la chaine lue est non nulle
  ligne=fic.readline()            # Lecture d'une ligne
  print(ligne)                    # Affichage de la ligne pour vérification

fic.close()                       # Fermeture du fichier (ne pas oublier)
  </code_python>
  <p></p>
  <h2>Méthode 3 : lecture de données formatées par la fonction <tt>loadtxt()</tt></h2>
  <p>Cette fonction fait l'objet d'une page d'exemple dédiée : revenir au formulaire pour consulter l'aide de cette fonction.</p>
</exemple>
</python>
<scilab>
<code_scilab>
ligne=mgetl(f,1)
lignes=mgetl(f)
</code_scilab>
</scilab>
<C>
<code_C>

</code_C>
</C>
</ligne>

<ligne>
<description>
Lire un tableau formaté
</description>
<python>
<code_python>
a,b=loadtxt("Fichier.txt",
  usecols = (0,2),
  dtype={
  'names': ('numero', 'consigne'),
  'formats': ('i2', 'f4')},
  delimiter=',',
  unpack=True)
</code_python>
</python>
<scilab>
<code_scilab>
Tableau=mfscanf(-1,fic,"%d,%f,%f")
</code_scilab>
</scilab>
<C>
<code_C>

</code_C>
</C>
</ligne>

<ligne>
<description>
Écrire une ligne
</description>
<python>
<code_python>
fic.write("il fait {:f} degres.\n".format(10))
</code_python>
</python>
<scilab>
<code_scilab>
mfprintf(fic,"il fait %f degres.\n",10)
</code_scilab>
</scilab>
<C>
<code_C>

</code_C>
</C>
</ligne>

<ligne>
<description>
Écrire un tableau formaté
</description>
<python>
<code_python>
for i in range(len(x))
  fic.write("{:d},{:f},{:f}\n".format(i,x[i],y[i])
</code_python>
</python>
<scilab>
<code_scilab>
mfprintf(fic,"%d,%f,%f",1:100,x,y)
</code_scilab>
</scilab>
<C>
<code_C>

</code_C>
</C>
</ligne>
</tableau>



<h4>Fichiers binaires</h4>


<tableau>


<ligne>
<description>
Sauver des variables dans un fichier binaire
</description>
<python>
<code_python>
import pickle
fic=open("fichier.pick","wb")
pickle.dump(a,fic)
pickle.dump(b,fic)
fic.close()
</code_python>
</python>
<scilab>
<code_scilab>
save("fichier.dat",a,b)
</code_scilab>
</scilab>
<C>
<code_C>

</code_C>
</C>
</ligne>

<ligne>
<description>
Recharger des variables du fichier binaire
</description>
<python>
<code_python>
import pickle
fic=open("fichier.pick","rb")
pickle.load(a,fic)
pickle.load(b,fic)
fic.close()

</code_python>
</python>
<scilab>
<code_scilab>
load("fichier.dat","a","b")
</code_scilab>
</scilab>
<C>
<code_C>

</code_C>
</C>
</ligne>

<ligne>
<description>
Ouvrir un fichier binaire en lecture/écriture
</description>
<python>
<code_python>
fic=open("fichier.txt","rb")
fic=open("fichier.txt","wb")
</code_python>
</python>
<scilab>
<code_scilab>
fic=mopen("fichier.txt","rb")
fic=mopen("fichier.txt","wb")
</code_scilab>
</scilab>
<C>
<code_C>

</code_C>
</C>
</ligne>

<ligne>
<description>
Lire 3 octets dans un fichier binaire
</description>
<python>
<code_python>
octets=fic.read(3)
</code_python>
</python>
<scilab>
<code_scilab>
octets=mget(3,"c",fic)
</code_scilab>
</scilab>
<C>
<code_C>

</code_C>
</C>
</ligne>

<ligne>
<description>
Écrire des octets dans un fichier binaire
</description>
<python>
<code_python>
fic.write("PCSI")
fic.write(int8(83))
fic.write(float32(2.3))
</code_python>
</python>
<scilab>
<code_scilab>
mput(ascii("PCSI"),"c",fic)
mput(83,"i",fic)
mput(2.3,"f",fic)
</code_scilab>
</scilab>
<C>
<code_C>

</code_C>
</C>
</ligne>

</tableau>


<h4>Images</h4>

<p>La lecture et l'écriture d'image sous python est relativement simple par la bibliothèque scipy.misc, chargé automatiquement par l'option --pylab ou par spyder. Les formats supportés sont jpg, bmp, ????. Des bibliothèques plus élaborées existent (PIL par exemple) mais ne sont pas abordées ici.</p>

<p>La lecture et l'écriture d'image sous Scilab nécessite l'installation par Atoms du module SIVP (image and vidéo processing). La plupart des formats sont supportés.</p>

<p>Les images sont ensuite manipulées dans le programme sous forme de tableau.</p>


<tableau>

<ligne>
<description>
Ouvrir une image
</description>
<python>
<code_python>
im=imread("image.jpg")
</code_python>
</python>
<scilab>
<code_scilab>
im=imread('image.jpg")
</code_scilab>
</scilab>
<C>
<code_C>

</code_C>
</C>
</ligne>

<ligne>
<description>
Enregistrer une image
</description>
<python>
<code_python>
imsave("image.jpg",im)
</code_python>
</python>
<scilab>
<code_scilab>
imwrite(im,"image.jpg")
</code_scilab>
</scilab>
<C>
<code_C>

</code_C>
</C>
</ligne>


<ligne>
<description>
Afficher une image
</description>
<python>
<code_python>
imshow(im)
</code_python>
</python>
<scilab>
<code_scilab>
imshow(im)
</code_scilab>
</scilab>
<C>
<code_C>

</code_C>
</C>
</ligne>

<ligne>
<description>
Taille de l'image
</description>
<python>
<code_python>
im.shape
</code_python>
</python>
<scilab>
<code_scilab>
size(im)
</code_scilab>
</scilab>
<C>
<code_C>

</code_C>
</C>
</ligne>

</tableau>


<h3>Calcul numérique</h3>


</body>